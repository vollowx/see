<!DOCTYPE html>
<html lang="en" id="document">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="The index of all the components" />
    <title>Checkbox</title>

    <link rel="stylesheet" href="../system/collection.css" />
    <link rel="stylesheet" href="./shared.css" />
    <script type="module" src="./shared.js"></script>

    <script src="../shared/constructable-stylesheets-polyfill.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.0-beta.2/dist/iconify-icon.min.js"></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet" />
  </head>
  <body>
    <md-top-app-bar highest-lv>
      <a slot="navBtn" href="./" tabindex="-1" class="outer-link">
        <md-icon-button standard icon="material-symbols:arrow-back" data-aria-label="Back to index page">
        </md-icon-button>
      </a>

      <md-icon-button slot="actionBtn" id="dir-tgl" standard data-aria-label="toggle right-to-left/left-to-right">
      </md-icon-button>
      <md-icon-button slot="actionBtn" id="theme-tgl" standard data-aria-label="toggle light/dark theme">
      </md-icon-button>
    </md-top-app-bar>

    <main>
      <nav class="table-of-ctt" aria-label="Contents">
        <p>Contents</p>
        <ul>
          <li><a href="#basic-checkbox">Basic checkbox, 基础检查框</a></li>
          <li><a href="#label-placement">Label placement, 标签放置</a></li>
          <li><a href="#accessibility">Accessibility, 无障碍功能</a></li>
          <li><a href="#attributes">Attributes, 属性</a></li>
        </ul>
      </nav>

      <div class="main">
        <md-typography display-s tag="h1">Checkbox, 选择框</md-typography>

        <md-typography headline-m tag="h2" id="basic-checkbox">Basic checkbox, 基础选择框</md-typography>

        <div class="demo-container">
          <md-checkbox>Labeled</md-checkbox>
          <md-checkbox checked></md-checkbox>
          <md-checkbox indeterminate></md-checkbox>
          <md-checkbox disabled>Disabled</md-checkbox>
          <md-checkbox disabled checked></md-checkbox>
          <md-checkbox disabled indeterminate></md-checkbox>

          <span aria-hidden="true" class="demo-spacer"></span>

          <div style="display: flex; flex-direction: column">
            <md-checkbox indeterminate data-aria-controls="child1 child2 child3">Parent</md-checkbox>
            <div style="display: flex; flex-direction: column; padding-inline-start: 24px">
              <md-checkbox data-id="child1" checked>Child 1</md-checkbox>
              <md-checkbox data-id="child2">Child 2</md-checkbox>
            </div>
          </div>
        </div>

        <md-typography headline-m tag="h2" id="label-placement">Label placement, 标签放置</md-typography>

        <div class="demo-container">
          <md-checkbox top>Top</md-checkbox>
          <md-checkbox>End</md-checkbox>
          <md-checkbox bottom>Bottom</md-checkbox>
          <md-checkbox start>Start</md-checkbox>
        </div>

        <md-typography headline-m tag="h2" id="accessibility">Accessibility, 无障碍功能</md-typography>

        <md-typography headline-m tag="h2" id="attributes">Attributes, 属性</md-typography>

        <md-typography body-m tag="p">Types:</md-typography>
        <ul>
          <li>single choice means choose one of all names</li>
          <li>
            toggle means give a attribute with no content for <code>true</code>, do not give this attribute for
            <code>false</code>
          </li>
          <li>multi values means write one or more values</li>
        </ul>

        <table>
          <thead>
            <tr>
              <th>Name, 名称</th>
              <th>Type, 类型</th>
              <th>Default value, 默认值</th>
              <th>Description, 描述</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="name">disabled</td>
              <td class="type">boolean</td>
              <td class="default-val">false</td>
              <td>
                If true, checkbox will be disabled. Controls
                <code>disabled</code>, <code>aria-disabled</code>
              </td>
            </tr>
            <tr>
              <td class="name">checked</td>
              <td class="type">boolean</td>
              <td class="default-val">false</td>
              <td>
                <code>nativeElement.checked</code>, 2-way binding. when changing, <code>indeterminate</code> will be
                false. Controls <code>checked</code>, <code>aria-checked</code>
              </td>
            </tr>
            <tr>
              <td class="name">indeterminate</td>
              <td class="type">boolean</td>
              <td class="default-val">false</td>
              <td>
                <code>nativeElement.indeterminate</code>, 2-way binding. if true, <code>checked</code> will be false.
                Controls <code>checked</code>, <code>aria-checked</code>
              </td>
            </tr>
            <tr>
              <td class="name">(end) / left / start / bottom</td>
              <td class="type">single choice</td>
              <td class="default-val">(end)</td>
              <td>Controls where is the label.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </main>

    <script>
      const parent = document.querySelector('div > [data-aria-controls]');
      const child1 = document.querySelector('[data-id="child1"]');
      const child2 = document.querySelector('[data-id="child2"]');
      const handleChangeParent = (e) => {
        child1.checked = e.target.checked;
        child2.checked = e.target.checked;
      };
      const handleChangeChild = (e) => {
        parent.checked = child1.checked && child2.checked;
        parent.indeterminate = child1.checked !== child2.checked;
      };
      parent.addEventListener('change', handleChangeParent);
      child1.addEventListener('change', handleChangeChild);
      child2.addEventListener('change', handleChangeChild);
    </script>
  </body>
</html>
